<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Editor data.json · Servicios Pro</title>
<style>
body{margin:0;background:#0b0f16;color:#e6edf3;font:15px system-ui}
main{max-width:1000px;margin:20px auto;padding:0 16px}
section{background:#0e1525;border:1px solid #1f2a3a;border-radius:12px;padding:14px;margin:12px 0}
h1{font-size:18px;margin:0 0 10px}
.row{display:flex;gap:8px;flex-wrap:wrap}
input,select,textarea,button{background:#0b1220;color:#e6edf3;border:1px solid #273246;border-radius:10px;padding:10px 12px}
button{cursor:pointer}
table{width:100%;border-collapse:collapse;margin-top:8px}
th,td{border-bottom:1px solid #1f2a3a;padding:8px 10px;text-align:left}
.thumb{width:40px;height:40px;border-radius:8px;object-fit:cover;border:1px solid #22324d}
.small{opacity:.8}
</style>
</head>
<body>
<main>
  <h1>Editor de <code>data.json</code></h1>

  <section>
    <h2>1) Cargar</h2>
    <div class="row">
      <label>
        <input id="fileInput" type="file" accept="application/json">
      </label>
      <input id="urlInput" placeholder="o pega URL RAW de GitHub… (https://raw.githubusercontent.com/.../data.json)" style="flex:1">
      <button id="fetchBtn">Cargar desde URL</button>
      <button id="seedBtn">Plantilla nueva</button>
    </div>
    <p class="small" id="meta"></p>
  </section>

  <section>
    <h2>2) Lista de profesionales</h2>
    <div class="row">
      <select id="fCategory"><option value="">Todas las categorías</option></select>
      <select id="fTown"><option value="">Todos los pueblos</option></select>
      <input id="fQuery" type="search" placeholder="Buscar por nombre/servicio…">
      <button id="filterBtn">Filtrar</button>
      <button id="clearBtn">Limpiar</button>
      <span class="small" id="count"></span>
    </div>
    <div style="overflow:auto">
      <table id="tbl">
        <thead><tr>
          <th>Foto</th><th>Nombre</th><th>Teléfono</th><th>Categoría</th><th>Pueblo</th><th>Servicios</th><th></th>
        </tr></thead>
        <tbody></tbody>
      </table>
    </div>
  </section>

  <section>
    <h2>3) Nuevo / Editar</h2>
    <form id="proForm" class="row">
      <input type="hidden" id="proId">
      <input id="proName" placeholder="Nombre" required>
      <input id="proPhone" placeholder="787-555-1234" required>
      <select id="proCategory" required></select>
      <select id="proTown" required></select>
      <input id="proServices" placeholder="Servicios (coma separada)">
      <input id="proPhotoUrl" placeholder="URL de foto (opcional)">
      <textarea id="proBio" rows="2" placeholder="Descripción"></textarea>
      <button type="submit">Guardar</button>
      <button id="newBtn" type="button">Nuevo</button>
      <button id="delBtn" type="button">Eliminar</button>
    </form>
  </section>

  <section>
    <h2>4) Exportar</h2>
    <div class="row">
      <button id="bumpBtn">Subir versión +1</button>
      <button id="exportBtn">Descargar data.json</button>
      <span class="small">Reemplaza el <code>data.json</code> del repo con el exportado.</span>
    </div>
  </section>
</main>

<script src="json-tool.js"></script>
</body>
</html>
